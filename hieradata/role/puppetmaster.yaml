---
classes:
  - r10k
  - r10k::config
r10k::config::sources:
  puppet:
    remote: 'git://git.ifoley.local/puppet_repository.git'
    basedir: '%{::settings::confdir}/environments'
  hiera:
    remote: 'git://git.ifoley.local/hiera_environment.git'
    basedir: '%{::settings::confdir}/hieradata'

r10k::config::purgedirs:
  - '%{::settings::confdir}/environments'
  - '%{::settings::confdir}/hieradata'

ini_setting:
  puppet_folder_environments:
    ensure: present
    path: '/etc/puppet/puppet.conf'
    section: 'main'
    setting: 'environmentpath'
    value: '$confdir/environments'



